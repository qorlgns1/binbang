# ===========================================
# Worker 병렬 처리 설정 (신규)
# ===========================================

# 동시에 처리할 숙소 수
# 메모리와 상황에 맞게 조절
# - 1GB RAM: 1 권장
# - 4GB RAM: 10~15 권장
# - 8GB RAM: 15~20 권장
WORKER_CONCURRENCY=1

# 브라우저 풀 크기
# 동시에 유지할 Chromium 인스턴스 수
# - 브라우저 1개당 약 150~300MB 메모리 사용
# - CONCURRENCY보다 작아도 됨 (페이지 탭으로 재사용)
# - 1GB RAM: 1 권장
BROWSER_POOL_SIZE=1

# 이미지/미디어 차단 (선택)
# 기본값: image,media,font
# 비활성화: BLOCK_RESOURCE_TYPES=off
BLOCK_RESOURCE_TYPES=image,media,font
# ===========================================

# Database (로컬 Docker PostgreSQL)
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=accommodation_monitor
DB_PORT=5432
DB_HOST=db # or localhost

# ===========================================
# DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:5432/${DB_NAME}
# ===========================================
# 운영 환경 (AWS RDS 사용 시)
# DATABASE_URL=postgresql://username:password@your-rds-endpoint.amazonaws.com:5432/accommodation_monitor?sslmode=verify-full&sslrootcert=/etc/ssl/certs/rds-global-bundle.pem

# ===========================================
# NextAuth.js
# ===========================================
NEXTAUTH_URL=http://localhost:3000
# 시크릿 키 생성: openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-key-here-generate-with-openssl-rand-base64-32

# ===========================================
# Google OAuth
# https://console.cloud.google.com
# ===========================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ===========================================
# Kakao OAuth
# https://developers.kakao.com
# ===========================================
KAKAO_CLIENT_ID=your-kakao-rest-api-key
KAKAO_CLIENT_SECRET=your-kakao-client-secret

# ===========================================
# Cron 설정
# ===========================================
CRON_SCHEDULE=*/30 * * * *

# ===========================================
# 네비게이션 타임아웃 (ms)
# 네트워크가 느린 환경에서도 너무 오래 기다리지 않도록 제한
# ===========================================
NAVIGATION_TIMEOUT_MS=25000

# ===========================================
# CSR 렌더 대기 (ms)
# 패턴 탐지용 대기 시간과 추가 재확인 딜레이
# ===========================================
CONTENT_WAIT_MS=10000
PATTERN_RETRY_MS=5000

# ===========================================
# 포트 설정 (선택)
# ===========================================
WEB_PORT=3000

# ===========================================
# Analytics & SEO (선택)
# ===========================================
# Google Analytics 4 측정 ID
# https://analytics.google.com > 관리 > 데이터 스트림 > 측정 ID
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XRHH80DWW6

# Google Search Console 사이트 인증 코드 (HTML 태그 방식 선택 시)
# https://search.google.com/search-console > 속성 추가 > HTML 태그
# 도메인(DNS) 방식으로 인증했다면 생략 가능
NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION=

# 네이버 서치어드바이저 사이트 인증 코드
# https://searchadvisor.naver.com > 사이트 추가 > HTML 태그
NEXT_PUBLIC_NAVER_SITE_VERIFICATION=

# ===========================================
# 이미지 버전 (운영 배포용)
# CI/CD에서 자동으로 주입
# ===========================================
IMAGE_TAG=v1.2.3
IMAGE_WEB_DIGEST=sha256:your-web-image-digest
IMAGE_WORKER_DIGEST=sha256:your-worker-image-digest
