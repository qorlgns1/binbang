# ===========================================
# apps/travel/.env.local example
# ===========================================
# NOTE: common vars(DATABASE_URL/NEXTAUTH_SECRET/GOOGLE_*/KAKAO_*) are read from root .env

# App-specific override (required)
# IMPORTANT: must match the exact origin you open in browser.
# ex) http://localhost:3300 OR http://192.0.0.2:3300
# Mismatch can cause OAuth "State cookie was missing".
NEXTAUTH_URL=http://localhost:3300

# Travel AI / APIs (required for normal operation)
GOOGLE_GENERATIVE_AI_API_KEY=your-gemini-api-key
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key
# GCC > Maps Platform > Map IDs 에서 생성. AdvancedMarker 렌더링에 필수.
NEXT_PUBLIC_GOOGLE_MAPS_MAP_ID=your-google-maps-map-id
OPENWEATHERMAP_API_KEY=your-openweathermap-api-key
EXCHANGERATE_API_KEY=your-exchangerate-api-key

# Awin Affiliate (Phase 3 수익화)
# AWIN_API_TOKEN: web 앱과 공유하거나 별도 발급. /api/admin/awin에서 토큰 검증 가능.
AWIN_API_TOKEN=your-awin-api-token
# AWIN_PUBLISHER_ID: 미설정 시 AWIN_API_TOKEN으로 /accounts API에서 자동 조회.
# 설정하면 매 요청마다 /accounts 호출을 생략해 응답 속도 개선.
# AWIN_PUBLISHER_ID=your-publisher-id

# Agoda Affiliate API (Stage B)
AGODA_AFFILIATE_API_KEY=your-agoda-api-key
AGODA_AFFILIATE_SITE_ID=your-agoda-site-id
# Optional override (default: https://affiliateapi7643.agoda.com/affiliateservice/lt_v1)
# AGODA_AFFILIATE_API_URL=

# Optional
CONTEXT_WINDOW_SIZE=10

# Guest limit tuning (optional)
TRAVEL_GUEST_DAILY_LIMIT=1
TRAVEL_GUEST_PER_CONVERSATION_LIMIT=5

# Internal cron guard token (worker -> /api/internal/cache/prewarm)
TRAVEL_INTERNAL_CRON_TOKEN=replace-with-random-secret

# Feature flags (optional)
TRAVEL_AFFILIATE_CTA_ENABLED=true
TRAVEL_AFFILIATE_TRACKING_ENABLED=true
TRAVEL_RESTORE_AUTO_ENABLED=true
TRAVEL_HISTORY_EDIT_ENABLED=true

# Client-side mirrors for flags used in client components
NEXT_PUBLIC_TRAVEL_AFFILIATE_CTA_ENABLED=true
NEXT_PUBLIC_TRAVEL_AFFILIATE_TRACKING_ENABLED=true
NEXT_PUBLIC_TRAVEL_RESTORE_AUTO_ENABLED=true
NEXT_PUBLIC_TRAVEL_HISTORY_EDIT_ENABLED=true

# ─── Sentry ──────────────────────────────────────
# DSN: Sentry 프로젝트 > Settings > Client Keys 에서 확인
# DSN은 공개해도 안전 (데이터 수집만 가능, 조회 불가)
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_DSN=

# 환경 구분 (development / staging / production). 미설정 시 NODE_ENV 사용
NEXT_PUBLIC_SENTRY_ENVIRONMENT=
SENTRY_ENVIRONMENT=

# 소스맵 업로드 전용 — CI 빌드 서버에만 설정, 절대 커밋 금지
# Sentry > Settings > Auth Tokens 에서 발급
SENTRY_AUTH_TOKEN=
SENTRY_ORG=your-sentry-org-slug
SENTRY_PROJECT=travel
