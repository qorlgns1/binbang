# ===========================================
# apps/worker/.env.local example
# ===========================================
# NOTE: common vars(DATABASE_URL/REDIS_URL) are read from root .env

# Optional control server
WORKER_CONTROL_PORT=3500

# Travel internal endpoint (cache prewarm)
TRAVEL_INTERNAL_URL=http://localhost:3300
TRAVEL_INTERNAL_CRON_TOKEN=replace-with-random-secret
TRAVEL_CACHE_PREWARM_CRON="20 */6 * * *"
TRAVEL_CACHE_PREWARM_TIMEOUT_MS=120000

# Optional email fallback (used by worker-shared notifications)
RESEND_API_KEY=re_xxx
EMAIL_FROM="BinBang <noreply@example.com>"

# Affiliate audit purge (Phase 3 Stage B)
AFFILIATE_AUDIT_RETENTION_DAYS=365
AFFILIATE_AUDIT_PURGE_CRON="10 3 * * *"
AFFILIATE_AUDIT_PURGE_CRON_WATCHDOG="*/15 * * * *"
AFFILIATE_AUDIT_PURGE_RETRY_MAX=3
AFFILIATE_AUDIT_PURGE_RETRY_BACKOFF_SECONDS=10
AFFILIATE_AUDIT_ALERT_DEDUPE_WINDOW_SECONDS=86400
AFFILIATE_AUDIT_ALERT_RECOVERY_ENABLED=true
AFFILIATE_AUDIT_PURGE_CRON_MISS_THRESHOLD_MINUTES=90
AFFILIATE_RUN_STARTED_REDIS_KEY_PREFIX=affiliate:audit:run_started
AFFILIATE_AUDIT_ALERT_TELEGRAM_BOT_TOKEN=
AFFILIATE_AUDIT_ALERT_TELEGRAM_CRITICAL_CHAT_ID=
AFFILIATE_AUDIT_ALERT_TELEGRAM_WARNING_CHAT_ID=
AFFILIATE_AUDIT_ALERT_TELEGRAM_CRITICAL_THREAD_ID=
AFFILIATE_AUDIT_ALERT_TELEGRAM_WARNING_THREAD_ID=
