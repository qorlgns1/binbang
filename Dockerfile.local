FROM node:20-alpine

# pnpm 설치
RUN corepack enable && corepack prepare pnpm@10.28.0 --activate

WORKDIR /app

COPY package.json pnpm-lock.yaml ./
RUN pnpm install

COPY . .

# Prisma 클라이언트 생성
RUN pnpm prisma generate

CMD ["pnpm", "dev"]